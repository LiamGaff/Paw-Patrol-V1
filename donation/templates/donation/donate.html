{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'donation/css/donate.css' %}">
{% endblock %}

{% block content %}

    <div class="container-fluid">
        <div class="row mb-3">
            <div class="col-12 my-5 text-center">
                <h2 class="headings"><bold>Donate</bold></h2>
                <i class="fas fa-dog headings"></i>
            </div>
        </div>

        <div class="row justify-content-around">
            <div class="col-12 col-sm-4 col-md-4col-lg-4 mt-5 mb-3">
                <P class="info-text text-center">You can make a one off donation using the form provided. If you have not already set up an account you will be asked to do so before you donate.
                    This allows you to keep track of and manage your ongoing payments. This can all be done from your <a href="">profile page</a>.
                </P>
            </div>
            <div class="col-12 col-sm-6 col-md-6 col-lg-6 card-bg mb-3">
            {% if request.user.is_authenticated %}
                {% load crispy_forms_tags %}
                <form action="{% url 'charge' %}" method="POST" id="payment-form">
                    {% csrf_token %}
                        <div class="form-field-12">
                    <label class="info-text" for="amount">Choose Amount:</label>
                    <br>
                    <br>
                    <div class="col value-wrapper">
                        <input class="hidebx" type="radio" name="donate-value" id="1" value="10">
                        <label for="1" class="radio-btn col-6">
                            <div class="display-box">
                                <div class="d-value">$10</div>
                            </div>
                        </label>
                        <input class="hidebx" type="radio" name="donate-value" id="2" value="100">
                        <label for="2" class="radio-btn">
                            <div class="display-box">
                                <div class="d-value">$20</div>
                            </div>
                        </label>
                        <input class="hidebx" type="radio" name="donate-value" id="3" value="50">
                        <label for="3" class="radio-btn">
                            <div class="display-box">
                                <div class="d-value">$50</div>
                            </div>
                        </label>
                        <input class="hidebx" type="radio" name="donate-value" id="4" value="100">
                        <label for="4" class="radio-btn">
                            <div class="display-box">
                                <div class="d-value">$100</div>
                            </div>
                        </label>
                    </div>


                    <div class="form-field-6">
						<input required type="text" name="email" placeholder="Email...">
					</div>

					<div class="form-field-6">
						<input required type="text" name="name" placeholder="Full Name...">
					</div>

                    <div class="form-row mt-3">
                        <label for="card-element" class="info-text">
                            Credit or debit card
                        </label>
                        <div id="card-element" class="mt-3">
                            <!-- stripe element -->
                        </div>
                        <div id="card-errors" role="alert"></div>
                    </div>
                    <input  class="btn pay-btn mt-3" type="submit" value="Submit Payment" name="Donate">
                </form>
            </div>
            {% else %}
            <div class="row justify-content-center ">
                <h4 class="info-text text-center">Please <a href="{% url 'account_signup' %}">signup</a> or simply <a href="{% url 'account_login' %}">login</a> to make a donation.</h4>
            </div>
            {% endif %}
        </div>

        <div class="row mb-3 mt-1">
            <div class="col-12 my-5 text-center mb-2">
                <h2 class="headings"><bold>What your donation means</bold></h2>
                <i class="fas fa-dog headings"></i>
            </div>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="card mb-3" style="max-width: 90rem;">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="{{ MEDIA_URL }}/media/max_test.jpg" class="img-fluid rounded-start w-100" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body h-100">
                        <h5 class="card-title sub-headings">Animal Housing</h5>
                        <p class="card-text info-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="card mb-3" style="max-width: 90rem;">
            <div class="row g-0">
                <div class="col-md-8">
                    <div class="card-body h-100">
                        <h5 class="card-title sub-headings">Owner Visits</h5>
                        <p class="card-text info-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <img src="{{ MEDIA_URL }}/media/donate_img1.jpg" class="img-fluid rounded-start w-100" alt="...">
                </div>
            </div>
        </div>
    </div>
    <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
        
      </footer>
{% endblock %}

{% block postloadjs %}
{{ block.super }}
    <script src="{% static 'donation/js/stripe_element.js' %}"></script>
{% endblock %}